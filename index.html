<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Kata Lispy Lang</title>
    <script src="lang.js"></script>
</head>

<body>
    <script id="src" type="text/lisp">

    (module
        """
        A doc comment.
        with some escaped \""" stuff
        """
        (import Prelude *)
        (import Host/Js :as js)
        (export pi square)

        ; A line comment
        (let
            pi 3.14159265
            literal "A string with ; and escaped \" stuff"
            msg { :type "do_it" :payload { :one 1 } }
        )

        (js/console.log literal)

        (fn square [x] (* x x))
    )

    </script>
    <script>

        const code = document.querySelector("#src").innerText;
        console.log(code);
        const ast = Lang.parse(code);
        console.log(ast);
        const reconstructed = Lang.print(ast);
        console.log(reconstructed);

    </script>
</body>

</html>